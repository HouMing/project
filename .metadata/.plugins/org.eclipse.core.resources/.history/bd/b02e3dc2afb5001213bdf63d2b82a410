function login() {
  if ($("input[name='userName']").val() == ""
    || $("input[name='password']").val() == "") {
    $("#showMsg").html("用户名或密码为空，请输入");
    $("input[name='userName']").focus();
  } else {
    $("input[name='password']").attr("value", hex_md5($("input[name='password']").val()));
    $.ajax({
        type : "POST",
        url : "login",
        data : $("#loginForm").serialize(), //序列化               
        error : function(response) {
          $.messager.alert('Warning', response.responseText);
        },
        success : function(data) {
          json = JSON.parse(data);
          if(json.result == "yes") {
            window.location = "loader/main";
          } else {
            window.reload();
          }
        }
    });
  }
}

function ajaxContainer(req_url) {
  $.ajax({
      url : req_url,
      type : 'GET',
      success : function(data) {
        $("#container").empty();
        $("#container").append(data);
      }
  });
}

function newAction(json_action) {
  var url = "/actions/" + json_action.roleId + "/" + json_action.actionUrl + "/";
  var description = json_action.description;
  var li = document.createElement("li");
  $(li).addClass("li-button");
  var a = document.createElement("a");
  $(a).linkbutton({
      text : description,
      iconCls : 'icon-add',
      iconAlign : 'left',
      plain : false
  });
  $(a).bind('click', function() {
      ajaxContainer(url);
  });
  $(li).append(a);
  $("#actions").append(li);
};
